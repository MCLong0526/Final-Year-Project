import{z as ae,o as c,e as f,w as t,c as a,V as E,y as W,J as re,r as n,d as ne,G as R,K as oe,B as _,s as u,n as d,t as k,f as q,A as D,j as T,q as se,L as le,F as G,h as ie,_ as ue,M as I,N as B}from"./main-BkB1wmBc.js";import{V as z}from"./VMenu-DjHKdIGl.js";import{V as L,a as P,d as ce}from"./VChip-CnV9Ehwh.js";import{h as H,q as de}from"./vue3-apexcharts-DFQtvG-R.js";import{e as _e,f as me,g as N,b as O,d as J,c as K,V as Y,a as V}from"./VCard-DJ1etnGl.js";import{c as ve}from"./index-nJcvKFt6.js";import{V as pe}from"./VTable-DQPQxJsZ.js";import"./VOverlay-D7Q5w3Tx.js";import"./forwardRefs-CF3k04ZS.js";import"./VImg-DK50IBnf.js";import"./ssrBoot-Bo2JOFzc.js";const X={__name:"MoreBtn",props:{menuList:{type:Array,required:!1},itemProps:{type:Boolean,required:!1}},setup(x){const e=x;return(o,g)=>{const m=ae("IconBtn");return c(),f(m,null,{default:t(()=>[a(E,{icon:"ri-more-2-line"}),e.menuList?(c(),f(z,{key:0,activator:"parent"},{default:t(()=>[a(L,{items:e.menuList,"item-props":e.itemProps},null,8,["items","item-props"])]),_:1})):W("",!0)]),_:1})}}},fe={class:"align-center mb-5 gap-x-4"},be={class:"text-h4"},he={key:0,class:"mb-0"},ge={key:1,class:"mb-0"},ye={__name:"ApexCardHorizontalEarn",setup(x){const e=re(),o=n("both"),g=ne(()=>{const i=n(e.current.value.colors),p=n(e.current.value.variables),M=`rgba(${H(i.value["on-surface"])},${p.value["disabled-opacity"]})`,w=`rgba(${H(String(p.value["border-color"]))},${p.value["border-opacity"]})`;return{chart:{offsetY:-10,offsetX:-15,parentHeightOffset:0,toolbar:{show:!1}},plotOptions:{bar:{borderRadius:6,distributed:!0,columnWidth:"30%"}},stroke:{width:2,colors:[i.value.surface]},legend:{show:!1},grid:{borderColor:w,strokeDashArray:7,xaxis:{lines:{show:!1}}},dataLabels:{enabled:!1},colors:["rgba(var(--v-theme-primary),1)","rgba(var(--v-theme-primary),1)","rgba(var(--v-theme-primary),1)","rgba(var(--v-theme-primary),1)","rgba(var(--v-theme-primary),1)","rgba(var(--v-theme-primary),1)"],states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},xaxis:{categories:v.value,tickPlacement:"on",labels:{show:!0},crosshairs:{opacity:0},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{show:!0,tickAmount:4,labels:{style:{colors:M,fontSize:"13px"},formatter:j=>`RM${j}`}},responsive:[{breakpoint:1560,options:{plotOptions:{bar:{columnWidth:"35%"}}}},{breakpoint:1380,options:{plotOptions:{bar:{columnWidth:"45%"}}}}]}}),m=n([{name:"Total Earned",data:[]}]),s=n([]),y=n(null),h=n(null),l=n([]),b=n(!1),v=n([]),S=i=>Object.values(i).map(p=>Number(String(p).replace(/,/g,""))),$=async()=>{b.value=!1;try{const i=await T.get(`/api/dashboard/get-weekly-earned?type=${o.value}`);s.value=i.data.data.total_earned,m.value[0].data=S({Monday:s.value.Monday,Tuesday:s.value.Tuesday,Wednesday:s.value.Wednesday,Thursday:s.value.Thursday,Friday:s.value.Friday,Saturday:s.value.Saturday,Sunday:s.value.Sunday}),h.value=i.data.data.total_earned_week}catch(i){console.log(i)}},A=async()=>{try{const i=await T.get(`/api/dashboard/get-monthly-earned?type=${o.value}`);l.value=i.data.data.total_earned,y.value=i.data.data.total_earned_year,b.value=!0}catch(i){console.log(i)}};R(b,i=>{i?(m.value[0].data=S({January:l.value.January,February:l.value.February,March:l.value.March,April:l.value.April,May:l.value.May,June:l.value.June,July:l.value.July,August:l.value.August,September:l.value.September,October:l.value.October,November:l.value.November,December:l.value.December}),v.value=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]):(m.value[0].data=S({Monday:s.value.Monday,Tuesday:s.value.Tuesday,Wednesday:s.value.Wednesday,Thursday:s.value.Thursday,Friday:s.value.Friday,Saturday:s.value.Saturday,Sunday:s.value.Sunday}),v.value=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"])});const C=i=>{o.value=i,b.value?A():$()};return R(o,()=>{b.value=!1}),oe(()=>{$()}),(i,p)=>{const M=X;return c(),f(J,null,{default:t(()=>[a(_e,null,{append:t(()=>[a(M,{class:"me-n3 mt-n1",i:""}),a(z,{activator:"parent",width:"240",location:"end",offset:"14px"},{default:t(()=>[a(L,null,{default:t(()=>[a(P,{onClick:p[0]||(p[0]=w=>C("services"))},{default:t(()=>[_(" Provide Services ")]),_:1}),a(P,{onClick:p[1]||(p[1]=w=>C("items"))},{default:t(()=>[_(" Selling Items ")]),_:1}),a(P,{onClick:p[2]||(p[2]=w=>C("both"))},{default:t(()=>[_(" Both ")]),_:1})]),_:1})]),_:1})]),default:t(()=>[a(me,null,{default:t(()=>[_("Earnings Overview")]),_:1}),o.value==="services"?(c(),f(N,{key:0,class:"ml-1"},{default:t(()=>[_(" Through Provide Services ")]),_:1})):o.value==="items"?(c(),f(N,{key:1,class:"ml-1"},{default:t(()=>[_(" Through Selling Items ")]),_:1})):(c(),f(N,{key:2,class:"ml-1"},{default:t(()=>[_(" Through Provide Services and Selling Items ")]),_:1}))]),_:1}),a(O,null,{default:t(()=>[a(u(de),{type:"bar",options:g.value,series:m.value,height:250},null,8,["options","series"]),d("div",fe,[d("h4",be,k(b.value?"This Year":"This Week")+"'s Earnings ",1),b.value?(c(),q("p",he,[_(" Total Earnings in this year is "),d("b",null,"RM"+k(y.value),1)])):(c(),q("p",ge,[_(" Total Earnings in this week is "),d("b",null,"RM"+k(h.value),1)]))]),b.value?(c(),f(D,{key:1,color:"primary",text:"",block:"",onClick:$},{default:t(()=>[_(" View This Week's Earnings ")]),_:1})):(c(),f(D,{key:0,color:"primary",text:"",block:"",onClick:A},{default:t(()=>[_(" View Every Month's Earnings ")]),_:1}))]),_:1})]),_:1})}}},ke={class:"text-h6"},xe={class:"d-flex align-center flex-wrap"},we={class:"text-h4 font-weight-semibold"},Te={class:"text-base"},Se=d("span",{class:"text-caption ms-1"},"last month",-1),F={__name:"CardStatisticsHorizontal",props:{title:{type:String,required:!0},color:{type:String,required:!1,default:"primary"},icon:{type:String,required:!0},stats:{type:Number,required:!0},change:{type:Number,required:!0}},setup(x){const e=x,o=ve(()=>e.change,()=>Math.sign(e.change)===1);return(g,m)=>(c(),f(J,null,{default:t(()=>[a(O,{class:"d-flex align-center"},{default:t(()=>[a(K,{size:"44",rounded:"",color:e.color,variant:"tonal",class:"me-4"},{default:t(()=>[a(E,{icon:e.icon,size:"30"},null,8,["icon"])]),_:1},8,["color"]),d("div",null,[d("span",ke,k(e.title),1),d("div",xe,[d("span",we,k(e.stats),1),e.change?(c(),q("div",{key:0,class:se(`${u(o)?"text-success":"text-error"} mt-1`)},[a(E,{icon:u(o)?"ri-arrow-up-s-line":"ri-arrow-down-s-line",size:"24"},null,8,["icon"]),d("span",Te,k(Math.abs(e.change))+"% ",1),Se],2)):W("",!0)])])]),_:1})]),_:1}))}},$e={class:"d-flex align-center mb-6"},Ce={style:{"line-height":"1"}},Me={class:"text-h4"},Ve=d("span",{class:"text-xs"},"Total Earned",-1),Pe={class:"ps-0"},Ne={class:"d-flex align-center gap-2"},qe={class:"font-weight-semibold text-end"},Ae={__name:"EarnWeeklyCard",props:{number_of_approved_service:{type:Number,required:!0},number_of_pending_service:{type:Number,required:!0},number_of_rejected_service:{type:Number,required:!0},number_of_cancelled_service:{type:Number,required:!0},total_earned_service:{type:Number,required:!0},total_earned_item:{type:Number,required:!0},number_of_approved_item:{type:Number,required:!0},number_of_pending_item:{type:Number,required:!0},number_of_rejected_item:{type:Number,required:!0},number_of_cancelled_item:{type:Number,required:!0}},setup(x){const e=x,o=le([{title:"Approved",amount:e.number_of_approved_service+e.number_of_approved_item},{title:"Pending",amount:e.number_of_pending_service+e.number_of_pending_item},{title:"Rejected",amount:e.number_of_rejected_service+e.number_of_rejected_item},{title:"Cancelled",amount:e.number_of_cancelled_service+e.number_of_cancelled_item}]),g=h=>h==="Approved"?"success":h==="Pending"?"warning":"error",m=n(e.total_earned_service+e.total_earned_item),s=n("both"),y=h=>{h==="services"?(m.value=e.total_earned_service,o[0].amount=e.number_of_approved_service,o[1].amount=e.number_of_pending_service,o[2].amount=e.number_of_rejected_service,o[3].amount=e.number_of_cancelled_service,s.value="services"):h==="items"?(m.value=e.total_earned_item,o[0].amount=e.number_of_approved_item,o[1].amount=e.number_of_pending_item,o[2].amount=e.number_of_rejected_item,o[3].amount=e.number_of_cancelled_item,s.value="items"):(m.value=e.total_earned_service+e.total_earned_item,o[0].amount=e.number_of_approved_service+e.number_of_approved_item,o[1].amount=e.number_of_pending_service+e.number_of_pending_item,o[2].amount=e.number_of_rejected_service+e.number_of_rejected_item,o[3].amount=e.number_of_cancelled_service+e.number_of_cancelled_item,s.value="both")};return(h,l)=>{const b=X;return c(),f(J,{title:"Approximate Earnings"},{append:t(()=>[a(b,{class:"me-n3 mt-n1",i:""}),a(z,{activator:"parent",width:"240",location:"end",offset:"14px"},{default:t(()=>[a(L,null,{default:t(()=>[a(P,{onClick:l[0]||(l[0]=v=>y("services"))},{default:t(()=>[_(" Provide Services ")]),_:1}),a(P,{onClick:l[1]||(l[1]=v=>y("items"))},{default:t(()=>[_(" Selling Items ")]),_:1}),a(P,{onClick:l[2]||(l[2]=v=>y("both"))},{default:t(()=>[_(" Both ")]),_:1})]),_:1})]),_:1})]),default:t(()=>[s.value==="services"?(c(),f(N,{key:0,class:"ml-1"},{default:t(()=>[_(" Through Provide Services ")]),_:1})):s.value==="items"?(c(),f(N,{key:1,class:"ml-1"},{default:t(()=>[_(" Through Selling Items ")]),_:1})):(c(),f(N,{key:2,class:"ml-1"},{default:t(()=>[_(" Through Provide Services and Selling Items ")]),_:1})),a(O,null,{default:t(()=>[d("div",$e,[a(K,{rounded:"",variant:"tonal",color:"primary",size:"50",class:"me-4"},{default:t(()=>[a(E,{icon:"ri-wallet-3-line",size:"32"})]),_:1}),d("div",Ce,[d("h4",Me," RM "+k(m.value),1),Ve])]),a(pe,{class:"text-high-emphasis text-no-wrap"},{default:t(()=>[d("tbody",null,[(c(!0),q(G,null,ie(o,v=>(c(),q("tr",{key:v.title},[d("td",Pe,[d("div",Ne,[a(E,{icon:"ri-circle-fill",color:g(v.title),size:16},null,8,["color"]),_(" "+k(v.title),1)])]),d("td",qe,[a(ce,{color:g(v.title)},{default:t(()=>[_(k(v.amount),1)]),_:2},1032,["color"])])]))),128))])]),_:1})]),_:1})]),_:1})}}},Ee={class:"card"},je={class:"card-body"},Ie={__name:"dashboard",setup(x){const e=n(0),o=n(0),g=n(0),m=n(0),s=n(0),y=n(0),h=n(0),l=n(0),b=n(0),v=n(0),S=n(0),$=n(0),A=n(0),C=n(0),i=n(0),p=n(0),M=n(0),w=n(0),j=n(!1),Q=()=>{T.get("/api/dashboard/get-number-of-likes").then(r=>{h.value=r.data.total_likes,l.value=r.data.new_likes_percentage}).catch(r=>{console.log(r)})},U=()=>{T.get("/api/dashboard/get-number-of-items").then(r=>{e.value=r.data.number_of_items,o.value=r.data.new_items_percentage}).catch(r=>{console.log(r)})},Z=()=>{T.get("/api/dashboard/get-number-of-posts").then(r=>{g.value=r.data.number_of_posts,m.value=r.data.new_posts_percentage}).catch(r=>{console.log(r)})},ee=()=>{T.get("/api/dashboard/get-number-of-services").then(r=>{s.value=r.data.number_of_services,y.value=r.data.new_services_percentage}).catch(r=>{console.log(r)})},te=async()=>{try{const r=await T.get("/api/dashboard/get-auth-earned");b.value=r.data.data.number_of_approved_service,v.value=r.data.data.number_of_pending_service,S.value=r.data.data.number_of_rejected_service,$.value=r.data.data.number_of_cancelled_service,A.value=r.data.data.total_earned_service,C.value=r.data.data.total_earned_item,i.value=r.data.data.number_of_approved_item,p.value=r.data.data.number_of_pending_item,M.value=r.data.data.number_of_rejected_item,w.value=r.data.data.number_of_cancelled_item,j.value=!0}catch(r){console.error(r)}};return Q(),te(),U(),Z(),ee(),(r,Be)=>(c(),q(G,null,[a(Y,null,{default:t(()=>[a(V,{cols:"12",md:"3",sm:"3"},{default:t(()=>[a(F,I(B({title:"Total Likes on Posts",color:"success",icon:"ri-thumb-up-line",stats:u(h),change:parseFloat(u(l))})),null,16)]),_:1}),a(V,{cols:"12",md:"3",sm:"3"},{default:t(()=>[a(F,I(B({title:"Total Posts",color:"secondary",icon:"ri-chat-smile-line",stats:u(g),change:parseFloat(u(m))})),null,16)]),_:1}),a(V,{cols:"12",md:"3",sm:"3"},{default:t(()=>[a(F,I(B({title:"Total Selling Items",color:"info",icon:"ri-shopping-cart-2-line",stats:u(e),change:parseFloat(u(o))})),null,16)]),_:1}),a(V,{cols:"12",md:"3",sm:"3"},{default:t(()=>[a(F,I(B({title:"Total Provide Services",color:"warning",icon:"ri-service-line",stats:u(s),change:parseFloat(u(y))})),null,16)]),_:1})]),_:1}),a(Y,null,{default:t(()=>[a(V,{cols:"12",md:"3",lg:"3"},{default:t(()=>[u(j)==!0?(c(),f(Ae,{key:0,number_of_approved_service:u(b),number_of_pending_service:u(v),number_of_rejected_service:u(S),number_of_cancelled_service:u($),total_earned_service:u(A),total_earned_item:u(C),number_of_approved_item:u(i),number_of_pending_item:u(p),number_of_rejected_item:u(M),number_of_cancelled_item:u(w)},null,8,["number_of_approved_service","number_of_pending_service","number_of_rejected_service","number_of_cancelled_service","total_earned_service","total_earned_item","number_of_approved_item","number_of_pending_item","number_of_rejected_item","number_of_cancelled_item"])):W("",!0)]),_:1}),a(V,{cols:"12",md:"9",lg:"9"},{default:t(()=>[d("div",Ee,[d("div",je,[a(ye)])])]),_:1})]),_:1})],64))}},Ke=ue(Ie,[["__scopeId","data-v-b93b8923"]]);export{Ke as default};
