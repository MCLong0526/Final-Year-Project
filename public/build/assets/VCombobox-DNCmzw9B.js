import{h as Me,i as Re,V as ge}from"./VTextField-B_0z6jg2.js";import{p as ie,m as _e,g as xe,av as Ae,G,u as ke,c as d,F as Z,O as J,D as Je,ad as N,az as Ce,r as j,d as D,aD as Le,ag as Se,aE as Ye,T as Ie,aF as Fe,aG as Ze,aH as el,aI as ll,a1 as tl,aJ as nl,aj as me,K as al,X as ul,aK as Oe,a3 as Ke,an as ye,V as be,aL as Be,ax as Ee,A as He,aM as Ve,aN as De,q as de,aO as ol,a4 as il,aP as rl,aQ as sl}from"./main-BSPiQKaW.js";import{f as Ne}from"./forwardRefs-T1LKPGgI.js";import{m as cl,f as dl,u as Ue,V as ze,a as we,d as je,t as he}from"./VChip-BYk0Rox1.js";import{m as $e}from"./VImg-NVS--HvR.js";import{V as qe}from"./VMenu-CzuKdIdc.js";import{g as fl}from"./VOverlay-CsdapwMi.js";import{V as We}from"./VCheckboxBtn-hMCho-Hd.js";const vl=ie({renderless:Boolean,..._e()},"VVirtualScrollItem"),ml=xe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:vl(),emits:{"update:height":e=>!0},setup(e,c){let{attrs:l,emit:n,slots:f}=c;const{resizeRef:v,contentRect:b}=Ae(void 0,"border");G(()=>{var i;return(i=b.value)==null?void 0:i.height},i=>{i!=null&&n("update:height",i)}),ke(()=>{var i,a;return e.renderless?d(Z,null,[(i=f.default)==null?void 0:i.call(f,{itemRef:v})]):d("div",J({ref:v,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(a=f.default)==null?void 0:a.call(f)])})}}),hl=-1,gl=1,pe=100,yl=ie({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function bl(e,c){const l=Je(),n=N(0);Ce(()=>{n.value=parseFloat(e.itemHeight||0)});const f=N(0),v=N(Math.ceil((parseInt(e.height)||l.height.value)/(n.value||16))||1),b=N(0),i=N(0),a=j(),V=j();let M=0;const{resizeRef:R,contentRect:o}=Ae();Ce(()=>{R.value=a.value});const r=D(()=>{var u;return a.value===document.documentElement?l.height.value:((u=o.value)==null?void 0:u.height)||parseInt(e.height)||0}),S=D(()=>!!(a.value&&V.value&&r.value&&n.value));let P=Array.from({length:c.value.length}),w=Array.from({length:c.value.length});const p=N(0);let A=-1;function Q(u){return P[u]||n.value}const $=Ye(()=>{const u=performance.now();w[0]=0;const h=c.value.length;for(let _=1;_<=h-1;_++)w[_]=(w[_-1]||0)+Q(_-1);p.value=Math.max(p.value,performance.now()-u)},p),re=G(S,u=>{u&&(re(),M=V.value.offsetTop,$.immediate(),U(),~A&&Ie(()=>{Fe&&window.requestAnimationFrame(()=>{le(A),A=-1})}))});G(r,(u,h)=>{h&&U()}),Le(()=>{$.clear()});function y(u,h){const _=P[u],L=n.value;n.value=L?Math.min(n.value,h):h,(_!==h||L!==n.value)&&(P[u]=h,$())}function F(u){return u=Se(u,0,c.value.length-1),w[u]||0}function q(u){return Vl(w,u)}let C=0,ee=0,W=0;function ce(){if(!a.value||!V.value)return;const u=a.value.scrollTop,h=performance.now();h-W>500?(ee=Math.sign(u-C),M=V.value.offsetTop):ee=u-C,C=u,W=h,U()}function K(){!a.value||!V.value||(ee=0,W=0,U())}let se=-1;function U(){cancelAnimationFrame(se),se=requestAnimationFrame(ne)}function ne(){if(!a.value||!r.value)return;const u=C-M,h=Math.sign(ee),_=Math.max(0,u-pe),L=Se(q(_),0,c.value.length),x=u+r.value+pe,T=Se(q(x)+1,L+1,c.value.length);if((h!==hl||L<f.value)&&(h!==gl||T>v.value)){const k=F(f.value)-F(L),H=F(T)-F(v.value);Math.max(k,H)>pe?(f.value=L,v.value=T):(L<=0&&(f.value=L),T>=c.value.length&&(v.value=T))}b.value=F(f.value),i.value=F(c.value.length)-F(v.value)}function le(u){const h=F(u);!a.value||u&&!h?A=u:a.value.scrollTop=h}const s=D(()=>c.value.slice(f.value,v.value).map((u,h)=>({raw:u,index:h+f.value})));return G(c,()=>{P=Array.from({length:c.value.length}),w=Array.from({length:c.value.length}),$.immediate(),U()},{deep:!0}),{containerRef:a,markerRef:V,computedItems:s,paddingTop:b,paddingBottom:i,scrollToIndex:le,handleScroll:ce,handleScrollend:K,handleItemResize:y}}function Vl(e,c){let l=e.length-1,n=0,f=0,v=null,b=-1;if(e[l]<c)return l;for(;n<=l;)if(f=n+l>>1,v=e[f],v>c)l=f-1;else if(v<c)b=f,n=f+1;else return v===c?f:n;return b}const wl=ie({items:{type:Array,default:()=>[]},renderless:Boolean,...yl(),..._e(),...Ze()},"VVirtualScroll"),Ge=xe()({name:"VVirtualScroll",props:wl(),setup(e,c){let{slots:l}=c;const n=el("VVirtualScroll"),{dimensionStyles:f}=ll(e),{containerRef:v,markerRef:b,handleScroll:i,handleScrollend:a,handleItemResize:V,scrollToIndex:M,paddingTop:R,paddingBottom:o,computedItems:r}=bl(e,tl(e,"items"));return nl(()=>e.renderless,()=>{function S(){var p,A;const w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";v.value===document.documentElement?(document[w]("scroll",i,{passive:!0}),document[w]("scrollend",a)):((p=v.value)==null||p[w]("scroll",i,{passive:!0}),(A=v.value)==null||A[w]("scrollend",a))}al(()=>{v.value=fl(n.vnode.el,!0),S(!0)}),Le(S)}),ke(()=>{const S=r.value.map(P=>d(ml,{key:P.index,renderless:e.renderless,"onUpdate:height":w=>V(P.index,w)},{default:w=>{var p;return(p=l.default)==null?void 0:p.call(l,{item:P.raw,index:P.index,...w})}}));return e.renderless?d(Z,null,[d("div",{ref:b,class:"v-virtual-scroll__spacer",style:{paddingTop:me(R.value)}},null),S,d("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:me(o.value)}},null)]):d("div",{ref:v,class:["v-virtual-scroll",e.class],onScrollPassive:i,onScrollend:a,style:[f.value,e.style]},[d("div",{ref:b,class:"v-virtual-scroll__container",style:{paddingTop:me(R.value),paddingBottom:me(o.value)}},[S])])}),{scrollToIndex:M}}});function Qe(e,c){const l=N(!1);let n;function f(i){cancelAnimationFrame(n),l.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{l.value=!1})})}async function v(){await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>{if(l.value){const a=G(l,()=>{a(),i()})}else i()})}async function b(i){var M,R;if(i.key==="Tab"&&((M=c.value)==null||M.focus()),!["PageDown","PageUp","Home","End"].includes(i.key))return;const a=(R=e.value)==null?void 0:R.$el;if(!a)return;(i.key==="Home"||i.key==="End")&&a.scrollTo({top:i.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await v();const V=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(i.key==="PageDown"||i.key==="Home"){const o=a.getBoundingClientRect().top;for(const r of V)if(r.getBoundingClientRect().top>=o){r.focus();break}}else{const o=a.getBoundingClientRect().bottom;for(const r of[...V].reverse())if(r.getBoundingClientRect().bottom<=o){r.focus();break}}}return{onListScroll:f,onListKeydown:b}}const Xe=ie({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:ul,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...cl({itemChildren:!1})},"Select"),xl=ie({...Xe(),...Oe(Me({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...$e({transition:{component:dl}})},"VSelect"),Ol=xe()({name:"VSelect",props:xl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:l}=c;const{t:n}=Ke(),f=j(),v=j(),b=j(),i=ye(e,"menu"),a=D({get:()=>i.value,set:s=>{var u;i.value&&!s&&((u=v.value)!=null&&u.Î¨openChildren)||(i.value=s)}}),{items:V,transformIn:M,transformOut:R}=Ue(e),o=ye(e,"modelValue",[],s=>M(s===null?[null]:Ve(s)),s=>{const u=R(s);return e.multiple?u:u[0]??null}),r=D(()=>typeof e.counterValue=="function"?e.counterValue(o.value):typeof e.counterValue=="number"?e.counterValue:o.value.length),S=Re(),P=D(()=>o.value.map(s=>s.value)),w=N(!1),p=D(()=>a.value?e.closeText:e.openText);let A="",Q;const $=D(()=>e.hideSelected?V.value.filter(s=>!o.value.some(u=>u===s)):V.value),re=D(()=>e.hideNoData&&!V.value.length||e.readonly||(S==null?void 0:S.isReadonly.value)),y=D(()=>{var s;return{...e.menuProps,activatorProps:{...((s=e.menuProps)==null?void 0:s.activatorProps)||{},"aria-haspopup":"listbox"}}}),F=j(),{onListScroll:q,onListKeydown:C}=Qe(F,f);function ee(s){e.openOnClear&&(a.value=!0)}function W(){re.value||(a.value=!a.value)}function ce(s){var x,T;if(!s.key||e.readonly||S!=null&&S.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(s.key)&&s.preventDefault(),["Enter","ArrowDown"," "].includes(s.key)&&(a.value=!0),["Escape","Tab"].includes(s.key)&&(a.value=!1),s.key==="Home"?(x=F.value)==null||x.focus("first"):s.key==="End"&&((T=F.value)==null||T.focus("last"));const u=1e3;function h(k){const H=k.key.length===1,E=!k.ctrlKey&&!k.metaKey&&!k.altKey;return H&&E}if(e.multiple||!h(s))return;const _=performance.now();_-Q>u&&(A=""),A+=s.key.toLowerCase(),Q=_;const L=V.value.find(k=>k.title.toLowerCase().startsWith(A));L!==void 0&&(o.value=[L])}function K(s){if(e.multiple){const u=o.value.findIndex(h=>e.valueComparator(h.value,s.value));if(u===-1)o.value=[...o.value,s];else{const h=[...o.value];h.splice(u,1),o.value=h}}else o.value=[s],a.value=!1}function se(s){var u;(u=F.value)!=null&&u.$el.contains(s.relatedTarget)||(a.value=!1)}function U(){var s;w.value&&((s=f.value)==null||s.focus())}function ne(s){w.value=!0}function le(s){if(s==null)o.value=[];else if(De(f.value,":autofill")||De(f.value,":-webkit-autofill")){const u=V.value.find(h=>h.title===s);u&&K(u)}else f.value&&(f.value.value="")}return G(a,()=>{if(!e.hideSelected&&a.value&&o.value.length){const s=$.value.findIndex(u=>o.value.some(h=>e.valueComparator(h.value,u.value)));Fe&&window.requestAnimationFrame(()=>{var u;s>=0&&((u=b.value)==null||u.scrollToIndex(s))})}}),ke(()=>{const s=!!(e.chips||l.chip),u=!!(!e.hideNoData||$.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),h=o.value.length>0,_=ge.filterProps(e),L=h||!w.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return d(ge,J({ref:f},_,{modelValue:o.value.map(x=>x.props.value).join(", "),"onUpdate:modelValue":le,focused:w.value,"onUpdate:focused":x=>w.value=x,validationValue:o.externalValue,counterValue:r.value,dirty:h,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":o.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:L,"onClick:clear":ee,"onMousedown:control":W,onBlur:se,onKeydown:ce,"aria-label":n(p.value),title:n(p.value)}),{...l,default:()=>d(Z,null,[d(qe,J({ref:v,modelValue:a.value,"onUpdate:modelValue":x=>a.value=x,activator:"parent",contentClass:"v-select__content",disabled:re.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:U},y.value),{default:()=>[u&&d(ze,{ref:F,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:x=>x.preventDefault(),onKeydown:C,onFocusin:ne,onScrollPassive:q,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var x,T,k;return[(x=l["prepend-item"])==null?void 0:x.call(l),!$.value.length&&!e.hideNoData&&(((T=l["no-data"])==null?void 0:T.call(l))??d(we,{title:n(e.noDataText)},null)),d(Ge,{ref:b,renderless:!0,items:$.value},{default:H=>{var g;let{item:E,index:te,itemRef:X}=H;const t=J(E.props,{ref:X,key:te,onClick:()=>K(E)});return((g=l.item)==null?void 0:g.call(l,{item:E,index:te,props:t}))??d(we,J(t,{role:"option"}),{prepend:I=>{let{isSelected:O}=I;return d(Z,null,[e.multiple&&!e.hideSelected?d(We,{key:E.value,modelValue:O,ripple:!1,tabindex:"-1"},null):void 0,E.props.prependIcon&&d(be,{icon:E.props.prependIcon},null)])}})}}),(k=l["append-item"])==null?void 0:k.call(l)]}})]}),o.value.map((x,T)=>{function k(X){X.stopPropagation(),X.preventDefault(),K(x)}const H={"onClick:close":k,onMousedown(X){X.preventDefault(),X.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},E=s?!!l.chip:!!l.selection,te=E?Be(s?l.chip({item:x,index:T,props:H}):l.selection({item:x,index:T})):void 0;if(!(E&&!te))return d("div",{key:x.value,class:"v-select__selection"},[s?l.chip?d(Ee,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:x.title}}},{default:()=>[te]}):d(je,J({key:"chip",closable:e.closableChips,size:"small",text:x.title,disabled:x.props.disabled},H),null):te??d("span",{class:"v-select__selection-text"},[x.title,e.multiple&&T<o.value.length-1&&d("span",{class:"v-select__selection-comma"},[He(",")])])])})]),"append-inner":function(){var H;for(var x=arguments.length,T=new Array(x),k=0;k<x;k++)T[k]=arguments[k];return d(Z,null,[(H=l["append-inner"])==null?void 0:H.call(l,...T),e.menuIcon?d(be,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ne({isFocused:w,menu:a,select:K},f)}}),kl=(e,c,l)=>e==null||c==null?-1:e.toString().toLocaleLowerCase().indexOf(c.toString().toLocaleLowerCase()),Sl=ie({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function pl(e,c,l){var i;const n=[],f=(l==null?void 0:l.default)??kl,v=l!=null&&l.filterKeys?Ve(l.filterKeys):!1,b=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return n;e:for(let a=0;a<e.length;a++){const[V,M=V]=Ve(e[a]),R={},o={};let r=-1;if(c&&!(l!=null&&l.noFilter)){if(typeof V=="object"){const w=v||Object.keys(M);for(const p of w){const A=ol(M,p,M),Q=(i=l==null?void 0:l.customKeyFilter)==null?void 0:i[p];if(r=Q?Q(A,c,V):f(A,c,V),r!==-1&&r!==!1)Q?R[p]=r:o[p]=r;else if((l==null?void 0:l.filterMode)==="every")continue e}}else r=f(V,c,V),r!==-1&&r!==!1&&(o.title=r);const S=Object.keys(o).length,P=Object.keys(R).length;if(!S&&!P||(l==null?void 0:l.filterMode)==="union"&&P!==b&&!S||(l==null?void 0:l.filterMode)==="intersection"&&(P!==b||!S))continue}n.push({index:a,matches:{...o,...R}})}return n}function Cl(e,c,l,n){const f=j([]),v=j(new Map),b=D(()=>n!=null&&n.transform?de(c).map(a=>[a,n.transform(a)]):de(c));Ce(()=>{const a=typeof l=="function"?l():de(l),V=typeof a!="string"&&typeof a!="number"?"":String(a),M=pl(b.value,V,{customKeyFilter:{...e.customKeyFilter,...de(n==null?void 0:n.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),R=de(c),o=[],r=new Map;M.forEach(S=>{let{index:P,matches:w}=S;const p=R[P];o.push(p),r.set(p.value,w)}),f.value=o,v.value=r});function i(a){return v.value.get(a.value)}return{filteredItems:f,filteredMatches:v,getMatches:i}}function Il(e,c,l){if(c==null)return e;if(Array.isArray(c))throw new Error("Multiple matches is not implemented");return typeof c=="number"&&~c?d(Z,null,[d("span",{class:"v-combobox__unmask"},[e.substr(0,c)]),d("span",{class:"v-combobox__mask"},[e.substr(c,l)]),d("span",{class:"v-combobox__unmask"},[e.substr(c+l)])]):e}const Fl=ie({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...Sl({filterKeys:["title"]}),...Xe({hideNoData:!0,returnObject:!0}),...Oe(Me({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...$e({transition:!1})},"VCombobox"),Kl=xe()({name:"VCombobox",props:Fl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,c){var X;let{emit:l,slots:n}=c;const{t:f}=Ke(),v=j(),b=N(!1),i=N(!0),a=N(!1),V=j(),M=j(),R=ye(e,"menu"),o=D({get:()=>R.value,set:t=>{var g;R.value&&!t&&((g=V.value)!=null&&g.Î¨openChildren)||(R.value=t)}}),r=N(-1);let S=!1;const P=D(()=>{var t;return(t=v.value)==null?void 0:t.color}),w=D(()=>o.value?e.closeText:e.openText),{items:p,transformIn:A,transformOut:Q}=Ue(e),{textColorClasses:$,textColorStyles:re}=il(P),y=ye(e,"modelValue",[],t=>A(Ve(t)),t=>{const g=Q(t);return e.multiple?g:g[0]??null}),F=Re(),q=N(e.multiple?"":((X=y.value[0])==null?void 0:X.title)??""),C=D({get:()=>q.value,set:t=>{var g;if(q.value=t??"",e.multiple||(y.value=[he(e,t)]),t&&e.multiple&&((g=e.delimiters)!=null&&g.length)){const I=t.split(new RegExp(`(?:${e.delimiters.join("|")})+`));I.length>1&&(I.forEach(O=>{O=O.trim(),O&&k(he(e,O))}),q.value="")}t||(r.value=-1),i.value=!t}}),ee=D(()=>typeof e.counterValue=="function"?e.counterValue(y.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?y.value.length:C.value.length);G(q,t=>{S?Ie(()=>S=!1):b.value&&!o.value&&(o.value=!0),l("update:search",t)}),G(y,t=>{var g;e.multiple||(q.value=((g=t[0])==null?void 0:g.title)??"")});const{filteredItems:W,getMatches:ce}=Cl(e,p,()=>i.value?"":C.value),K=D(()=>e.hideSelected?W.value.filter(t=>!y.value.some(g=>g.value===t.value)):W.value),se=D(()=>y.value.map(t=>t.value)),U=D(()=>{var g;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&C.value===((g=K.value[0])==null?void 0:g.title))&&K.value.length>0&&!i.value&&!a.value}),ne=D(()=>e.hideNoData&&!p.value.length||e.readonly||(F==null?void 0:F.isReadonly.value)),le=j(),{onListScroll:s,onListKeydown:u}=Qe(le,v);function h(t){S=!0,e.openOnClear&&(o.value=!0)}function _(){ne.value||(o.value=!0)}function L(t){ne.value||(b.value&&(t.preventDefault(),t.stopPropagation()),o.value=!o.value)}function x(t){var O;if(sl(t)||e.readonly||F!=null&&F.isReadonly.value)return;const g=v.value.selectionStart,I=y.value.length;if((r.value>-1||["Enter","ArrowDown","ArrowUp"].includes(t.key))&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(o.value=!0),["Escape"].includes(t.key)&&(o.value=!1),["Enter","Escape","Tab"].includes(t.key)&&(U.value&&["Enter","Tab"].includes(t.key)&&k(W.value[0]),i.value=!0),t.key==="ArrowDown"&&U.value&&((O=le.value)==null||O.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(t.key)){if(r.value<0){t.key==="Backspace"&&!C.value&&(r.value=I-1);return}const m=r.value,B=y.value[r.value];B&&!B.props.disabled&&k(B,!1),r.value=m>=I-1?I-2:m}if(t.key==="ArrowLeft"){if(r.value<0&&g>0)return;const m=r.value>-1?r.value-1:I-1;y.value[m]?r.value=m:(r.value=-1,v.value.setSelectionRange(C.value.length,C.value.length))}if(t.key==="ArrowRight"){if(r.value<0)return;const m=r.value+1;y.value[m]?r.value=m:(r.value=-1,v.value.setSelectionRange(0,0))}t.key==="Enter"&&C.value&&(k(he(e,C.value)),C.value="")}}function T(){var t;b.value&&(i.value=!0,(t=v.value)==null||t.focus())}function k(t){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.multiple){const I=y.value.findIndex(m=>e.valueComparator(m.value,t.value)),O=g??!~I;if(~I){const m=O?[...y.value,t]:[...y.value];m.splice(I,1),y.value=m}else O&&(y.value=[...y.value,t]);C.value=""}else{const I=g!==!1;y.value=I?[t]:[],q.value=I?t.title:"",Ie(()=>{o.value=!1,i.value=!0})}}function H(t){b.value=!0,setTimeout(()=>{a.value=!0})}function E(t){a.value=!1}function te(t){(t==null||t===""&&!e.multiple)&&(y.value=[])}return G(W,t=>{!t.length&&e.hideNoData&&(o.value=!1)}),G(b,(t,g)=>{t||t===g||(r.value=-1,o.value=!1,U.value&&!a.value&&!y.value.some(I=>{let{value:O}=I;return O===K.value[0].value})?k(K.value[0]):e.multiple&&C.value&&k(he(e,C.value)))}),G(o,()=>{if(!e.hideSelected&&o.value&&y.value.length){const t=K.value.findIndex(g=>y.value.some(I=>e.valueComparator(I.value,g.value)));Fe&&window.requestAnimationFrame(()=>{var g;t>=0&&((g=M.value)==null||g.scrollToIndex(t))})}}),ke(()=>{const t=!!(e.chips||n.chip),g=!!(!e.hideNoData||K.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),I=y.value.length>0,O=ge.filterProps(e);return d(ge,J({ref:v},O,{modelValue:C.value,"onUpdate:modelValue":[m=>C.value=m,te],focused:b.value,"onUpdate:focused":m=>b.value=m,validationValue:y.externalValue,counterValue:ee.value,dirty:I,class:["v-combobox",{"v-combobox--active-menu":o.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!n.selection,"v-combobox--selecting-index":r.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:I?void 0:e.placeholder,"onClick:clear":h,"onMousedown:control":_,onKeydown:x}),{...n,default:()=>d(Z,null,[d(qe,J({ref:V,modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,activator:"parent",contentClass:"v-combobox__content",disabled:ne.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:T},e.menuProps),{default:()=>[g&&d(ze,{ref:le,selected:se.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:m=>m.preventDefault(),onKeydown:u,onFocusin:H,onFocusout:E,onScrollPassive:s,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var m,B,Y;return[(m=n["prepend-item"])==null?void 0:m.call(n),!K.value.length&&!e.hideNoData&&(((B=n["no-data"])==null?void 0:B.call(n))??d(we,{title:f(e.noDataText)},null)),d(Ge,{ref:M,renderless:!0,items:K.value},{default:ae=>{var Te;let{item:z,index:ue,itemRef:oe}=ae;const Pe=J(z.props,{ref:oe,key:ue,active:U.value&&ue===0?!0:void 0,onClick:()=>k(z,null)});return((Te=n.item)==null?void 0:Te.call(n,{item:z,index:ue,props:Pe}))??d(we,Pe,{prepend:fe=>{let{isSelected:ve}=fe;return d(Z,null,[e.multiple&&!e.hideSelected?d(We,{key:z.value,modelValue:ve,ripple:!1,tabindex:"-1"},null):void 0,z.props.prependIcon&&d(be,{icon:z.props.prependIcon},null)])},title:()=>{var fe,ve;return i.value?z.title:Il(z.title,(fe=ce(z))==null?void 0:fe.title,((ve=C.value)==null?void 0:ve.length)??0)}})}}),(Y=n["append-item"])==null?void 0:Y.call(n)]}})]}),y.value.map((m,B)=>{function Y(oe){oe.stopPropagation(),oe.preventDefault(),k(m,!1)}const ae={"onClick:close":Y,onMousedown(oe){oe.preventDefault(),oe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},z=t?!!n.chip:!!n.selection,ue=z?Be(t?n.chip({item:m,index:B,props:ae}):n.selection({item:m,index:B})):void 0;if(!(z&&!ue))return d("div",{key:m.value,class:["v-combobox__selection",B===r.value&&["v-combobox__selection--selected",$.value]],style:B===r.value?re.value:{}},[t?n.chip?d(Ee,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:m.title}}},{default:()=>[ue]}):d(je,J({key:"chip",closable:e.closableChips,size:"small",text:m.title,disabled:m.props.disabled},ae),null):ue??d("span",{class:"v-combobox__selection-text"},[m.title,e.multiple&&B<y.value.length-1&&d("span",{class:"v-combobox__selection-comma"},[He(",")])])])})]),"append-inner":function(){var ae;for(var m=arguments.length,B=new Array(m),Y=0;Y<m;Y++)B[Y]=arguments[Y];return d(Z,null,[(ae=n["append-inner"])==null?void 0:ae.call(n,...B),(!e.hideNoData||e.items.length)&&e.menuIcon?d(be,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:L,onClick:rl,"aria-label":f(w.value),title:f(w.value)},null):void 0])}})}),Ne({isFocused:b,isPristine:i,menu:o,search:C,selectionIndex:r,filteredItems:W,select:k},v)}});export{Kl as V,Ol as a};
